define("local_dboard/icon_picker",["jquery","core/modal_factory","core/str","core/modal_events","core/templates","core/ajax"],(function($,ModalFactory,Str,ModalEvents,Templates,Ajax){return{init:function(){var icon_pickerlink=$("[data-key=icon_picker]"),title=Str.get_string("iconselection","local_dboard");Ajax.call([{methodname:"core_output_load_fontawesome_icon_map",args:[]}],!0,!1)[0].then((function(map){var iconArray=[],toarray=[];map.forEach((function(value){-1===toarray.indexOf(value.to)&&Templates.renderPix(value.pix,value.component,value.component+"/"+value.pix).then((function(result){iconArray.push(result)})),toarray.push(value.to)})),ModalFactory.create({title:title,body:Templates.render("local_dboard/icon_picker_modal",{icons:iconArray}),type:"SAVE_CANCEL"},icon_pickerlink).then((function(modal){modal.setLarge(),modal.attachToDOM(),$(".modal-body").find(".icon").on("click",(function(){$(".choosed-icon").removeClass("choosed-icon"),$(this).addClass("choosed-icon")})),modal.getRoot().on(ModalEvents.save,(function(){var selectedname=$(".choosed-icon").attr("title"),clone=$(".choosed-icon").clone();$(".selected_icon").replaceWith(clone),clone.addClass("selected_icon"),clone.removeClass("choosed-icon"),$('[name="icon"]').val(selectedname)}))}))}))}}}));

//# sourceMappingURL=icon_picker.min.js.map